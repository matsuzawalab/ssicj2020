<html>

<head>
    <script>
        var star = new Image();
        star.src = "star.png";
        state = '停止中';

        var x = 0;
        var y = 0;

        function buttonAPressed() {
            if (state == '停止中') {
                timer = setInterval(tick, 10);
                state = '動作中';
            }
        }

        function tick() {
            var ctx = document.getElementById('canvas1').getContext('2d');
            ctx.clearRect(0, 0, 400, 300);
            x += 3; y += 3;
            if (x > 400) {
                x = 0;
            }
            if (y > 300) {
                y = 0;
            }
            ctx.drawImage(star, x, y, 50, 50);
        }

    </script>
</head>

<body>
    <button onclick="buttonAPressed()">A</button>
    <hr>
    <canvas id="canvas1" width="400" height="300" style="border: solid 1px;"></canvas>
</body>

</html>